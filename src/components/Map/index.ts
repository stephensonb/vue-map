import { loadModules } from 'esri-loader';
export { MapViewer } from './MapViewer';
export { MapViewGroup } from './MapViewGroup';
//
// Load the modules required for mapping services for fleetman.  ArcGIS is a promise, so
// importer must use await or then before accessing the returned members.
//
export const ArcGIS = loadModules(
  [
    'esri/Map',
    'esri/WebScene',
    'esri/views/MapView',
    'esri/views/SceneView',
    'esri/core/watchUtils',
    'esri/layers/FeatureLayer',
    'esri/layers/SceneLayer',
    'esri/layers/GraphicsLayer',
    'esri/Graphic',
    'esri/geometry/Point',
    'esri/symbols/PictureMarkerSymbol',
    'esri/symbols/WebStyleSymbol',
    'esri/renderers/SimpleRenderer',
    'esri/renderers/UniqueValueRenderer',
    'esri/renderers/support/UniqueValueInfo',
    'esri/core/scheduling',
    'esri/tasks/support/Query',
    'esri/symbols/SimpleFillSymbol',
    'esri/geometry/geometryEngineAsync',
    'esri/symbols/PointSymbol3D',
    'esri/symbols/IconSymbol3DLayer',
    'esri/symbols/LabelSymbol3D',
    'esri/symbols/TextSymbol',
    'esri/symbols/TextSymbol3DLayer',
    'esri/symbols/callouts/LineCallout3D',
    'esri/symbols/Font',
    'esri/layers/support/LabelClass',
    'esri/symbols/SimpleMarkerSymbol',
  ],
  {
    css: true,
  }
).then(
  ([
    Map,
    WebScene,
    MapView,
    SceneView,
    watchUtils,
    FeatureLayer,
    SceneLayer,
    GraphicsLayer,
    Graphic,
    Point,
    PictureMarkerSymbol,
    WebStyleSymbol,
    SimpleRenderer,
    UniqueValueRenderer,
    UniqueValueInfo,
    scheduling,
    Query,
    SimpleFillSymbol,
    SimpleMarkerSymbol,
    geometryEngine,
    PointSymbol3D,
    IconSymbol3DLayer,
    LabelClass,
    LabelSymbol3D,
    TextSymbol,
    TextSymbol3DLayer,
    LineCallout3D,
    Font,
  ]) => {
    return {
      Map,
      WebScene,
      MapView,
      SceneView,
      watchUtils,
      FeatureLayer,
      SceneLayer,
      GraphicsLayer,
      Graphic,
      Point,
      PictureMarkerSymbol,
      SimpleMarkerSymbol,
      WebStyleSymbol,
      SimpleRenderer,
      UniqueValueRenderer,
      UniqueValueInfo,
      scheduling,
      Query,
      SimpleFillSymbol,
      geometryEngine,
      PointSymbol3D,
      IconSymbol3DLayer,
      LabelClass,
      LabelSymbol3D,
      TextSymbol,
      TextSymbol3DLayer,
      LineCallout3D,
      Font,
    };
  }
);
